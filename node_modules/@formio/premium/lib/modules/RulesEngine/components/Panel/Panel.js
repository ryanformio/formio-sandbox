import { Components, Formio } from 'formiojs';
import { superSet } from '../../utils/utils';
var _a = Components.components, PanelComponent = _a.panel, Component = _a.component;
if (Formio.rulesEntities) {
    PanelComponent.prototype.init = function init() {
        this.components = this.components || [];
        if (this.builderMode || !this.lazyLoad || this.visible && !this.collapsed) {
            this.addComponents();
        }
        return Component.prototype.init.call(this);
    };
    var originalSetCollapsed_1 = superSet(PanelComponent, 'collapsed');
    Object.defineProperty(PanelComponent.prototype, 'collapsed', {
        enumerable: true,
        configurable: true,
        set: function (value) {
            if (this.lazyLoad && (this.components.length === 0) && !value) {
                this.addComponents();
            }
            originalSetCollapsed_1.call(this, value);
        }
    });
    Object.defineProperty(PanelComponent.prototype, 'collapsed', {
        enumerable: true,
        configurable: true,
        get: function () {
            return this._collapsed;
        }
    });
}
export default PanelComponent;
